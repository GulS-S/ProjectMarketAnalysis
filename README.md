# Анализ рынка валют

Данный инструмент генерирует, а впоследствии обновляет базу данных 
разных валют, акций, криптовалют ...

База содержит сырые данные об объемах торгов, ценах открытия-закрытия, 
максимальных и минимальных показателях курса с дельтой времени 1 минута.

Основываясь на сырых данных формируется витрина данных со следующим
показателями:

* Суррогатный ключ категории
* Название валюты
* Суммарный объем торгов за данные сутки
* Курс валюты на момент открытия торгов для данных суток
* Курс валюты на момент закрытия торгов для данных суток
* Разница(в %) курса с момента открытия до момента закрытия торгов для данных суток
* Момент времени, на котором был зафиксирован самый крупный объем торгов для данных суток
* Момент времени, на котором был зафиксирован максимальный курс для данных суток
* Момент времени, на котором был зафиксирован минимальный курс торгов для данных суток

## Конфигурация проекта

Для запуска проекта необходимо установить зависимости и запустить главный скрипт:

``pip install -r requirements.txt``

``pytnon main.py``

- При первом запуске будет необходимо в консоли ввести API токен
от платформы ***alphavantage***. Получить можно здесь: 
[API key](https://www.alphavantage.co/support/#api-key)

- Также надо ввести название базы данных *SQLite3* (можно существующую,
 главное, чтобы файл **.db** был в той же директории, что и скрипт 
``main.py``).

- На последнем этапе необходимо вводить по очереди интересующие позиции (например
IBM, AAPL, GOOGL, TSLA, MSFT). Полный список можно посмотреть здесь:
[List of all tickers on an Exchange](https://www.alphavantage.co/query?function=LISTING_STATUS&apikey=demo)

После проделанных шагов будет сгенерирован файл *.settings* со всей информацией
о проекте.

## Принцип работы скриптов

После конфигурации проекта идет начальная верификация проекта.
Если отсутствуют указанные позиции, идет скачивание всей доступной
информации о стоках и расчет метрик.

Далее в бесконечном цикле каждые 2 минуты идет обновление данных
и соответственно метрик.

Посмотреть на полученные данные можно через любой программный 
продукт, позволяющий подключаться к БД SQLite3 (например DBeaver).

Посмотреть на витрину данных можно использовав команду:

``SELECT * FROM METRICS m ;``